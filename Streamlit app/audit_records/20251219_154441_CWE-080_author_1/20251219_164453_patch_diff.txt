--- original.py+++ patched.py@@ -1,7 +1,11 @@+from flask import render_template, request, escape
+
 @app.route("/renderHtml")
 def renderHTML():
     name = request.args.get("name", "World")
-    html_content = f"<html><body><h1>Hello {name}</h1></body></html>"
-    response = make_response(html_content)
-    response.headers["Content-Type"] = "text/html"
-    return response+    safe_name = escape(name)
+    return render_template("greeting.html", name=safe_name)
+```
+
+```html
+<html><body><h1>Hello {{ name|safe }}</h1></body></html>